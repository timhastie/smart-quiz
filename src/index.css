@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    font-family: "Inter", "SF Pro Display", "Segoe UI", system-ui, -apple-system,
      BlinkMacSystemFont, "Helvetica Neue", Arial, sans-serif;
    background-color: #07131a;
    color: #f8fafc;
    font-feature-settings: "cv02" 1, "cv03" 1, "cv04" 1, "liga" 1;
  }

  html,
  body {
    @apply min-h-full bg-[#041c21] text-slate-50 antialiased;
    margin: 0;
  }

  body {
    background-image: radial-gradient(circle at 12% 18%, rgba(45, 212, 191, 0.35) 0, transparent 30%),
      radial-gradient(circle at 78% 4%, rgba(20, 184, 166, 0.32) 0, transparent 40%),
      linear-gradient(180deg, #0b2c32 0%, #082229 45%, #03141a 100%);
    background-attachment: fixed;
  }

  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  a,
  button {
    font-family: inherit;
  }

  input,
  select,
  textarea {
    @apply bg-white/85 text-slate-900 placeholder-slate-500
      rounded-2xl border border-teal-100/70 px-4 py-3
      focus:outline-none focus:ring-2 focus:ring-teal-300/80 focus:border-teal-300/80
      transition shadow;
  }

  textarea {
    @apply min-h-[140px] leading-relaxed;
  }
}

.custom-select {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: none;
  background-color: rgba(255, 255, 255, 0.85);
  border: 1px solid rgba(109, 213, 238, 0.35);
  border-radius: 999px;
  padding: 0.75rem 2.5rem 0.75rem 1.25rem;
  font-family: inherit;
  color: #0f172a;
  line-height: 1.25rem;
  background-image: linear-gradient(
      180deg,
      rgba(255, 255, 255, 0.35),
      rgba(255, 255, 255, 0.15)
    ),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='%230f172a' d='M6 8 0 0h12z'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: center, right 1.1rem center;
  background-size: 100% 100%, 0.65rem;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.08);
  cursor: pointer;
}

.custom-select::-ms-expand {
  display: none;
}

/* Utility classes for consistent surfaces */
.surface-card {
  @apply bg-teal-300/10 border border-teal-200/40 rounded-3xl shadow-2xl shadow-teal-900/25 backdrop-blur-xl;
}

.surface-panel {
  @apply bg-teal-200/10 border border-teal-100/30 rounded-2xl shadow-xl shadow-teal-900/20 backdrop-blur;
}

.field {
  @apply bg-white/85 text-slate-900 placeholder-slate-500
    rounded-2xl border border-teal-100/70 px-4 py-3
    focus:outline-none focus:ring-2 focus:ring-teal-300/80 focus:border-teal-300/80;
}

.field-textarea {
  @apply bg-white/85 text-slate-900 placeholder-slate-500
    rounded-2xl border border-teal-100/70 px-4 py-3 min-h-[140px] leading-relaxed
    focus:outline-none focus:ring-2 focus:ring-teal-300/80 focus:border-teal-300/80;
}

/* Play page: force dark textarea and neutralize UA dark theming */
.quiz-play { 
  color-scheme: light; /* stop auto dark theming */
}
.quiz-play textarea {
  background-color: #ffffff !important;       /* white bg */
  color: #111827 !important;                   /* gray-900 text */
  -webkit-text-fill-color: #111827 !important; /* Safari text color */
  caret-color: #111827 !important;
  border-color: #d1d5db !important;            /* gray-300 border */

  appearance: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;

  /* Paint over any UA/Firefox field color */
  box-shadow: inset 0 0 0 1000px #ffffff !important;
}
